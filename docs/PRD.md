# PRD: 카드뉴스 자동 제작 서비스

## 1. 제품 개요

### 1.1 제품명
**CardNews AI Generator**

### 1.2 제품 비전
링크나 텍스트 소스를 AI 기반으로 분석하여 누구나 쉽게 카드뉴스를 제작할 수 있는 웹 기반 서비스

### 1.3 목표
- 카드뉴스 제작 시간을 **80% 단축**
- 비디자이너도 전문적인 카드뉴스를 **10분 이내**에 제작
- AI와의 자연어 대화를 통한 직관적인 콘텐츠 수정 경험 제공

## 2. 타겟 사용자

### 2.1 Primary Persona
- **마케터/콘텐츠 크리에이터**: 소셜 미디어용 카드뉴스를 자주 제작하는 전문가
- **스타트업/SMB**: 자체적으로 콘텐츠 제작이 필요하지만 디자이너가 없는 팀
- **에듀케이터**: 교육 콘텐츠를 시각화하고 싶은 강사/교사

### 2.2 Secondary Persona
- 블로거, 인플루언서, 개인 사업자

## 3. 핵심 가치 제안 (Value Proposition)

| 항목 | 기존 방식 | 본 서비스 |
|------|-----------|-----------|
| **제작 시간** | 1-2시간 | 10분 이내 |
| **디자인 스킬** | 필수 (Photoshop, Figma 등) | 불필요 (AI 자동화) |
| **콘텐츠 기획** | 수동으로 요약/정리 | AI 자동 요약 및 구조화 |
| **수정 방식** | 툴을 다시 열어 수정 | 자연어로 대화하며 수정 |

## 4. 기능 요구사항

### 4.1 Phase 1 (MVP) - 핵심 기능

#### **Feature 1: 소스 입력** ✅ 완료
- **기능 설명**: 사용자가 카드뉴스 제작을 위한 원본 소스를 입력
- **입력 방식**:
  - URL 링크 입력 (뉴스 기사, 블로그 포스트 등)
  - **다중 URL 입력** (줄바꿈으로 구분, 자동 통합) ⭐ 신규
  - 텍스트 직접 붙여넣기
- **제약사항**:
  - 텍스트 최대 길이: 10,000자
  - 지원 URL: 일반 웹페이지 (JavaScript 렌더링 페이지 제외)
- **다국어 지원**: 영어, 한국어, 일본어 자동 감지 ⭐ 신규

#### **Feature 2: 콘텐츠 요약 및 분석** ✅ 완료
- **기능 설명**: AI가 입력된 소스를 분석하여 핵심 내용을 추출하고 요약
- **AI 모델 선택** ⭐ 신규:
  - GPT-4.1 Nano (기본) - 가장 빠르고 저렴 ($0.10/1M)
  - GPT-4.1 Mini - 균형잡힌 성능 ($0.15/1M)
  - GPT-5 Nano - 향상된 성능 ($0.20/1M)
  - GPT-5 Mini - 최고 품질 ($0.25/1M)
- **처리 과정**:
  1. 링크의 경우: 웹 스크래핑으로 본문 추출 (다중 URL 지원)
  2. **언어 자동 감지** (한국어/영어/일본어) ⭐ 신규
  3. 텍스트 전처리 (불필요한 광고, HTML 태그 제거)
  4. AI 요약 (선택된 모델 사용)
- **출력 결과**:
  - 핵심 요약문 (원문 언어로 생성) ⭐ 신규
  - 주요 키워드 추출 (5-10개, 원문 언어로)
  - 추천 카드뉴스 구조 (섹션 수 제안)

#### **Feature 3: 카드뉴스 섹션 생성 및 AI 대화형 수정** ✅ 완료
- **기능 설명**: 요약된 내용을 기반으로 카드뉴스 섹션을 자동 생성하고, AI와 대화하며 수정
- **자동 생성**:
  - **카드 시작 옵션** (제목/내용 선택) ⭐ 신규
  - 제목 카드 (선택 시)
  - 내용 카드 (3-7개, 자동으로 내용 분할)
  - 마무리 카드 (1개)
  - 다국어 콘텐츠 생성 (원문 언어 유지) ⭐ 신규
- **AI 대화형 수정** (자연어 처리 대폭 개선) ⭐ 신규:
  - **특정 카드 수정**:
    - "두 번째 카드의 내용을 더 간결하게 만들어줘"
    - "세 번째 카드와 네 번째 카드의 순서를 바꿔줘"
    - "마지막 카드에 행동 유도 문구를 추가해줘"
  - **전체 수정** (무제한 자연어 명령):
    - "전체를 존댓말로 바꿔줘"
    - "전체를 반말로 바꿔줘"
    - "전체를 더 전문적으로 만들어줘"
    - "전체를 간결하게 줄여줘"
    - "전체에 이모지를 추가해줘"
    - "전체를 스토리텔링 방식으로 바꿔줘"
  - 실시간 반영 및 프리뷰
  - **OpenAI 연결 상태 표시** ⭐ 신규

### 4.2 Phase 2 (RSS Auto-Generation) - RSS 핵심 기능 🆕

#### **Feature 4: RSS 사이트 관리**
- **기능 설명**: RSS 피드를 제공하는 사이트를 등록하고 관리
- **주요 기능**:
  - RSS 사이트 등록/수정/삭제
  - RSS URL 유효성 자동 검증
  - 사이트별 크롤링 주기 설정 (15분/30분/1시간/3시간)
  - 크롤링 상태 실시간 확인
  - 활성화/비활성화 토글
- **기본 등록 사이트** (RSS 지원):
  - https://blogs.microsoft.com/ (RSS: /feed/)
  - https://www.microsoft.com/en-us/security (RSS 확인)
  - 기타 RSS 지원 기술 블로그

#### **Feature 5: RSS 기반 자동 크롤링**
- **기능 설명**: RSS 피드를 통해 새 게시물을 자동으로 감지 (빠르고 안정적)
- **크롤링 방식**:
  - **RSS 피드 파싱 전용**: `feedparser` 사용
  - **스케줄러**: `APScheduler` 사용, 설정된 주기마다 자동 실행
  - **간단하고 빠름**: 복잡한 웹 스크래핑 불필요
- **주요 기능**:
  - RSS 피드에서 새 게시물 자동 감지
  - 중복 게시물 필터링 (URL 기반)
  - RSS 메타데이터 추출 (제목, 날짜, 요약)
  - 크롤링 이력 로그 저장
  - 실패 시 자동 재시도 (3회)

#### **Feature 6: 100% 자동 카드뉴스 생성 파이프라인**
- **기능 설명**: 사용자 개입 없이 자동으로 카드뉴스 생성
- **워크플로우**:
  1. 새 게시물 감지
  2. 자동 스크래핑 (본문 추출)
  3. AI 요약 및 키워드 추출
  4. 카드뉴스 자동 생성 (기본 설정)
  5. DB에 "초안" 상태로 저장
  6. 이메일 알림 발송
- **사용자 개입 지점**:
  - 알림 수신 후 프로젝트 확인
  - 요약 단계 또는 카드 단계 선택하여 수정
  - 최종 검토 후 "완료" 상태로 변경

#### **Feature 7: 프로젝트 저장 및 관리**
- **기능 설명**: 모든 카드뉴스 프로젝트를 DB에 영구 저장하고 관리
- **주요 기능**:
  - 프로젝트 목록 (필터링, 검색, 정렬)
  - 프로젝트 상태 관리 (초안/검토중/완료)
  - 프로젝트 버전 관리
  - 프로젝트 상세 보기
  - 소프트 삭제 및 복구
- **수정 기능**:
  - **요약 단계로 돌아가기**: 요약문, 키워드, 카드 수 수정 후 재생성
  - **카드 단계 수정**: Phase 1의 AI 채팅 기능 활용
  - 수정 시 새 버전 자동 생성

#### **Feature 8: 메인 대시보드 (3개 메뉴)**
- **기능 설명**: 모든 기능에 접근할 수 있는 중앙 허브 (인증 없음)
- **메뉴 구성**:
  1. **RSS 사이트 설정**
     - 등록된 RSS 사이트 목록
     - 사이트별 크롤링 상태
     - 새 RSS 사이트 추가 버튼
     - 수동 크롤링 트리거
  2. **수동 카드뉴스 생성** (Phase 1 기능)
     - 기존 UI 그대로 유지
     - URL/텍스트 직접 입력
     - 즉시 생성 및 편집
  3. **저장된 프로젝트**
     - 프로젝트 카드 그리드
     - 상태별 탭 (초안/검토중/완료)
     - 최근 프로젝트 우선 표시
     - "새로 생성됨" 뱃지
     - 검색 및 필터링

### 4.3 Phase 3 (Auth, Notification & Design) - 인증, 알림 및 디자인 🆕

#### **Feature 9: 사용자 인증 시스템** 🆕
- **기능 설명**: Firebase Authentication 통합
- **로그인 방식**:
  - 이메일/비밀번호
  - Google 소셜 로그인
  - GitHub 소셜 로그인
- **사용자 프로필**:
  - 프로필 페이지
  - 사용자별 프로젝트 관리
  - 권한 관리
- **대시보드 접근 제어**:
  - 로그인 필수 페이지
  - 비로그인 시 랜딩 페이지

#### **Feature 10: 이메일 알림 시스템** 🆕
- **기능 설명**: 사용자가 직접 이메일 주소를 등록하고 관리
- **이메일 등록 관리**:
  - 대시보드에서 이메일 주소 등록/수정/삭제
  - 여러 이메일 주소 등록 가능 (최대 5개)
  - 개별 알림 ON/OFF 토글
  - 테스트 이메일 발송 기능
- **알림 타입**:
  - 카드뉴스 생성 완료 (프로젝트 링크)
  - 크롤링 실패 알림
  - 주간 요약 리포트
- **SendGrid 통합**:
  - HTML 이메일 템플릿
  - 발송 이력 추적

#### **Feature 11: 웹 스크래핑 시스템 (RSS 없는 사이트)** 🆕
- **기능 설명**: RSS 피드가 없는 사이트도 크롤링 지원
- **Playwright 통합**:
  - JavaScript 렌더링 페이지 지원
  - 헤드리스 브라우저 모드
  - 사이트별 커스텀 CSS 셀렉터 설정
- **크롤링 타입 선택**:
  - 사이트 등록 시 "RSS" 또는 "웹 스크래핑" 선택
  - 자동 감지 및 추천
- **지원 사이트** (Phase 3):
  - 기타 RSS 미지원 기술 블로그
  - 복잡한 JavaScript 렌더링 사이트

#### **Feature 12: 디자인 커스터마이징**
- AI 대화형 디자인 수정:
  - "색상을 파란색 계열로 바꿔줘"
  - "폰트를 더 굵게 해줘"
  - "이미지를 오른쪽으로 배치해줘"
- 템플릿 라이브러리 제공 (10+ 프리셋)
- 브랜드 색상/로고 업로드 및 적용
- 실시간 미리보기

#### **Feature 13: 이미지 생성 및 편집**
- AI 이미지 생성 (DALL-E, Midjourney)
- 이미지 업로드
- 이미지 편집 (크롭, 필터, 텍스트 오버레이)
- Unsplash 연동 (무료 이미지)

#### **Feature 14: 카드뉴스 Export**
- PNG, JPG, PDF 형식 다운로드
- 해상도 선택 (소셜 미디어별 최적화)
- 일괄 다운로드 (ZIP)
- 고해상도 옵션

#### **Feature 15: 팀 협업 기능**
- 팀 멤버 초대
- 권한 관리 (읽기/쓰기/관리자)
- 프로젝트 공유
- 댓글 및 피드백

## 5. 기술 스택

### 5.1 Frontend
| 기술 | 선택 이유 |
|------|-----------|
| **Framework** | React.js 또는 Next.js |
| **Styling** | Tailwind CSS (빠른 UI 개발) |
| **State Management** | Redux 또는 Zustand |

### 5.2 Backend
| 기술 | 선택 이유 |
|------|-----------|
| **언어** | Python 3.11+ |
| **Framework** | FastAPI (빠른 개발, 자동 API 문서화) |
| **AI API** | OpenAI GPT-4 또는 Anthropic Claude |
| **Web Scraping** | BeautifulSoup4, Selenium |

### 5.3 Infrastructure
| 항목 | 기술 |
|------|------|
| **Hosting** | Firebase Hosting (Frontend) |
| **Backend** | Google Cloud Run 또는 Firebase Functions |
| **Database** | Firestore (NoSQL) |
| **Storage** | Firebase Storage (생성된 카드뉴스 이미지) |
| **Authentication** | Firebase Auth (Phase 2) |

### 5.4 주요 라이브러리
```
- langchain: AI 체인 관리
- Pillow: 이미지 생성 및 편집
- html2text: HTML to Plain Text 변환
- newspaper3k: 뉴스 기사 추출
- python-dotenv: 환경 변수 관리
```

## 6. 시스템 아키텍처

```
┌─────────────┐
│  사용자     │
└──────┬──────┘
       │
       ▼
┌─────────────────────────────┐
│  Frontend (React + Firebase) │
│  - 소스 입력 UI              │
│  - 카드뉴스 프리뷰           │
│  - AI 채팅 인터페이스        │
└──────────┬──────────────────┘
           │
           ▼
┌─────────────────────────────┐
│  Backend API (FastAPI)       │
│  ┌─────────────────────┐    │
│  │ 웹 스크래핑 모듈     │    │
│  └─────────────────────┘    │
│  ┌─────────────────────┐    │
│  │ AI 요약 모듈        │    │
│  └─────────────────────┘    │
│  ┌─────────────────────┐    │
│  │ 카드뉴스 생성 엔진   │    │
│  └─────────────────────┘    │
│  ┌─────────────────────┐    │
│  │ 이미지 렌더링 모듈   │    │
│  └─────────────────────┘    │
└──────────┬──────────────────┘
           │
           ▼
┌─────────────────────────────┐
│  외부 서비스                 │
│  - OpenAI API               │
│  - Firebase Services        │
└─────────────────────────────┘
```

## 7. 데이터 모델

### 7.1 Project (카드뉴스 프로젝트)
```python
{
  "id": "string (UUID)",
  "user_id": "string (Phase 2)",
  "source_type": "url | text",
  "source_content": "string",
  "summary": "string",
  "keywords": ["string"],
  "created_at": "timestamp",
  "updated_at": "timestamp",
  "status": "draft | completed"
}
```

### 7.2 CardSection (카드 섹션)
```python
{
  "id": "string (UUID)",
  "project_id": "string (FK)",
  "order": "integer",
  "type": "title | content | closing",
  "title": "string",
  "content": "string",
  "image_url": "string (optional, Phase 2)",
  "design_config": {
    "background_color": "string",
    "font_family": "string",
    "font_size": "integer"
  }
}
```

### 7.3 ConversationHistory (AI 대화 이력)
```python
{
  "id": "string (UUID)",
  "project_id": "string (FK)",
  "user_message": "string",
  "ai_response": "string",
  "timestamp": "timestamp"
}
```

## 8. API 설계 (주요 엔드포인트)

### Phase 1 API

| Method | Endpoint | 설명 |
|--------|----------|------|
| `POST` | `/api/projects` | 새 프로젝트 생성 (소스 입력) |
| `GET` | `/api/projects/{id}` | 프로젝트 조회 |
| `POST` | `/api/projects/{id}/summarize` | 소스 요약 실행 |
| `GET` | `/api/projects/{id}/sections` | 카드 섹션 목록 조회 |
| `POST` | `/api/projects/{id}/sections` | 카드 섹션 자동 생성 |
| `POST` | `/api/projects/{id}/chat` | AI와 대화 (섹션 수정) |
| `PATCH` | `/api/sections/{id}` | 특정 섹션 수동 수정 |

### Phase 2 추가 API

| Method | Endpoint | 설명 |
|--------|----------|------|
| `POST` | `/api/search` | 키워드로 소스 검색 |
| `POST` | `/api/projects/{id}/export` | 이미지 생성 및 다운로드 |
| `POST` | `/api/projects/{id}/design` | 디자인 변경 (AI 대화) |

## 9. 개발 로드맵

### Phase 1 (MVP) - 8주
| 주차 | 작업 내용 |
|------|-----------|
| **Week 1-2** | 프로젝트 셋업, 기술 스택 환경 구성, Firebase 연동 |
| **Week 3-4** | Backend API 개발 (웹 스크래핑, AI 요약 모듈) |
| **Week 5-6** | Frontend UI 개발 (소스 입력, 섹션 표시) |
| **Week 7** | AI 채팅 인터페이스 구현, 실시간 수정 기능 |
| **Week 8** | 통합 테스트, 버그 수정, MVP 배포 |

### Phase 2 (Release) - 8주
| 주차 | 작업 내용 |
|------|-----------|
| **Week 9-10** | 자동 소스 탐색 및 크롤링 기능 |
| **Week 11-12** | 다중 버전 제안, 톤앤매너 선택 |
| **Week 13-14** | 디자인 커스터마이징, 템플릿 시스템 |
| **Week 15-16** | 이미지 Export 기능, 최종 테스트 및 배포 |

## 10. 성공 지표 (KPI)

### Phase 1
- **활성 사용자 수**: 월 100명 이상
- **프로젝트 완료율**: 70% 이상 (시작한 프로젝트 중 완성 비율)
- **평균 제작 시간**: 15분 이내
- **사용자 만족도**: NPS 60 이상

### Phase 2
- **활성 사용자 수**: 월 500명 이상
- **Export 사용률**: 완료된 프로젝트의 80% 이상
- **재방문율**: 40% 이상
- **평균 제작 시간**: 10분 이내

## 11. 리스크 및 완화 전략

| 리스크 | 영향도 | 완화 전략 |
|--------|--------|-----------|
| **AI API 비용 증가** | 높음 | 요청 캐싱, 토큰 사용량 최적화, 티어별 과금 도입 |
| **웹 스크래핑 실패** | 중간 | 여러 파싱 라이브러리 병행, Fallback 메커니즘 |
| **Firebase 무료 한도 초과** | 중간 | 사용량 모니터링, 초기 사용자 제한 |
| **AI 응답 품질 저하** | 높음 | 프롬프트 엔지니어링 최적화, A/B 테스트 |

## 12. 제약사항 및 가정

### 12.1 제약사항
- **예산**: 초기 개발 비용은 최소화 (Firebase 무료 티어 활용)
- **인력**: 1인 개발 (풀스택)
- **시간**: Phase 1은 2개월 이내 완료

### 12.2 가정
- 사용자는 한국어 콘텐츠를 주로 사용
- 초기에는 모바일 반응형이지만, 데스크탑 우선 최적화
- AI API는 OpenAI 또는 Anthropic을 사용 (안정적인 서비스 제공)

## 13. 향후 확장 가능성

### Phase 3 이후 고려 사항
- 🎨 **AI 이미지 생성**: DALL-E, Midjourney API 연동으로 자동 이미지 생성
- 📊 **분석 대시보드**: 생성된 카드뉴스의 SNS 성과 추적
- 👥 **팀 협업 기능**: 여러 사용자가 함께 카드뉴스 편집
- 🌐 **다국어 지원**: 영어, 일본어 등 다국어 카드뉴스 제작
- 💰 **수익화**: 프리미엄 템플릿, 무제한 프로젝트, 우선 지원

## 14. 참고 자료

### 14.1 경쟁 서비스
- **Canva**: 템플릿 기반, 수동 편집 필요
- **Miricanvas**: 한국형 디자인 툴, AI 기능 제한적
- **망고보드**: 다양한 템플릿 제공, 자동화 부족

### 14.2 차별화 포인트
✅ **AI 자동화**: 링크만 넣으면 자동으로 카드뉴스 초안 생성  
✅ **대화형 수정**: 자연어로 대화하며 실시간 수정  
✅ **개발자 친화적**: Python 기반으로 확장 및 커스터마이징 용이  

---

**문서 버전**: 1.0  
**작성일**: 2025-10-23  
**작성자**: CardNews AI Team  
**다음 리뷰 일정**: Phase 1 완료 후


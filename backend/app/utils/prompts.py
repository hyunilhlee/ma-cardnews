"""AI 프롬프트 템플릿"""

# 요약 프롬프트
SUMMARIZE_PROMPT = """
다음 텍스트를 {max_length}자 이내로 핵심 내용만 요약해주세요.
카드뉴스에 사용될 요약이므로, 명확하고 간결하게 작성해주세요.

텍스트:
{text}

요약:
"""

# 키워드 추출 프롬프트
KEYWORD_EXTRACTION_PROMPT = """
다음 텍스트에서 핵심 키워드 {count}개를 추출해주세요.
쉼표로 구분하여 나열해주세요.

텍스트:
{text}

키워드:
"""

# 카드뉴스 생성 프롬프트
CARD_GENERATION_PROMPT = """
다음 요약과 원문을 바탕으로 {card_count}개의 카드뉴스를 제작해주세요.

요약:
{summary}

원문:
{original_text}

다음 JSON 형식으로 응답해주세요:
{{
  "cards": [
    {{
      "type": "title",
      "title": "제목",
      "content": "부제목 또는 설명"
    }},
    {{
      "type": "content",
      "title": "섹션 제목",
      "content": "섹션 내용 (2-3문장)"
    }},
    ...
    {{
      "type": "closing",
      "title": "마무리 제목",
      "content": "마무리 멘트"
    }}
  ]
}}

규칙:
1. 첫 번째 카드는 반드시 "title" 타입
2. 마지막 카드는 반드시 "closing" 타입
3. 나머지는 "content" 타입
4. 각 카드의 내용은 간결하고 명확하게
5. 제목은 15자 이내, 내용은 100자 이내
6. 반드시 유효한 JSON 형식으로만 응답
"""

# 채팅 시스템 프롬프트
CHAT_SYSTEM_PROMPT = """
당신은 카드뉴스 제작을 돕는 AI 어시스턴트입니다.
사용자의 자연어 요청을 정확히 이해하고, 적절한 함수를 호출하여 카드 섹션을 수정합니다.

가능한 작업:
1. **특정 카드 수정** - "두 번째 카드 제목 바꿔줘" → modify_section
2. **카드 순서 변경** - "첫 번째와 세 번째 순서 바꿔줘" → reorder_sections
3. **전체 내용 수정** - 아래 함수 사용 → modify_all_content
   - "전체를 존댓말로 바꿔줘"
   - "전체를 반말로 바꿔줘"
   - "전체를 더 전문적으로 바꿔줘"
   - "전체를 더 친근하게 바꿔줘"
   - "전체를 간결하게 줄여줘"
   - "전체를 더 상세하게 만들어줘"
   - "전체를 이모지 추가해서 재밌게 만들어줘"
   - "전체를 스토리텔링 방식으로 바꿔줘"
   - "전체를 질문 형식으로 바꿔줘"
   - "전체를 리스트 형식으로 바꿔줘"
   - 기타 모든 전체 수정 요청

중요 규칙:
- "두 번째 카드" = index 1 (0-based)
- "전체", "모든", "다" 키워드 → modify_all_content 사용
- 사용자의 자연어 요청을 그대로 instruction에 전달
- 애매한 요청도 최대한 이해하고 처리
"""

